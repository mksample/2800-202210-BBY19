<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Page Title-->
  <title>Responder Profile Page</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Set favicon -->
  <link href="imgs/saveme.ico" rel="shortcut icon" type="image/x-icon">

  <!-- Our StyleSheet-->
  <link rel="stylesheet" href="/css/responder_profile.css">

  <!-- Google Material Icons-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body>
  <!-- Templates -->
  <template id="IncidentTemplate">
    <div class="posts">
      <div class="incident">
        <span id="incidentTitle">

        </span>
        <span id="incidentPriority">

        </span>
        <span id="incidentType">

        </span>
        <span id="incidentStatus">

        </span>
        <span id="incidentTimestamp">

        </span>
        <input type="button" class="joinButton" id="joinIncidentButton" value="Respond">
      </div>
    </div>
  </template>


  <!-- Main Container-->
  <div class="container">
    <header>
      <!-- LOGO-->
      <div id="logo">
        <a href="/html/responder_profile.html">
          <img src="/imgs/saveme.jpg" width="40" alt="logo" />
        </a>
        <h2>SaveMe</h2>
      </div>

      <!--HAMBURGER MENU FOR MOBILE-->

      <div class="hamburger-menu">
        <span><i class="material-icons">list</i></span>
      </div>


      <!-- TOP NAVIGATION -->
      <div class="nav">
        <ul>

          <li onclick=show(0)>
            <h3>Home</h3>
          </li>

          <li>
            <a href="/html/about_page.html">About</a>
          </li>

          <li>
            <a href="/html/contact_page.html">Contact</a>
          </li>

          <li>
            <form action="/logout" method="get">
              <input id="logout" type="submit" value="Logout" />
            </form>
          </li>

        </ul>

      </div>

    </header>


    <!-- BOTTOM NAVIGATION BAR MOBILE-->
    <div class="nav-mobile">
      <ul>

        <li class ="active" onclick=show(0)>
          <span> <i class="material-icons">home</i></span>
          <h3>Home</h3>
        </li>

        <li>
          <span> <i class="material-icons">info</i></span>
          <a href="/html/about_nav.html">About</a>
        </li>

        <li>
          <span> <i class="material-icons">call</i></span>
          <a href="/html/contact_nav.html">Contact</a>
        </li>
        <li>
          <span> <i class="material-icons">logout</i></span>
          <form action="/logout" method="get">
            <input id="logout-btm-nav" type="submit" value="Logout" />
          </form>
        </li>

      </ul>
    </div>


    <!-- VERTICAL ICON NAVIGATION-->
    <div class="vert-bar">
      <span> <i class="material-icons">more_vert</i></span>
    </div>




     <!-- SIDEBAR NAVIGATION -->
     <aside class="sidebar">
      <!-- SIDEBAR CLOSE WHEN ON MOBILE-->
      <h2>SaveMe<span class="close"><i class="material-icons">close</i></span></h2>

      <div class="user-side">

        <div class="user-pic">

          <img id="userPicture" width="100" src="/imgs/saveme.jpg" alt="">

        </div>
        <!-- SIDE NAVIGATION USER INFORMATION-->
        <div class="user-info">

          <span id="sessionName" class="name">John Doe</span>

            <span id="sessionEmail" class="email">JohnDoe@gmail.com</span>

          </div>

        </div>

        <!-- SIDE NAVIGATION SEARCH BAR-->
        <div class="search-bar">
          <form>
            <div class="search">

              <input type="text" placeholder="Search Profile...">

              <button type="submit"><span><i class="material-icons">search</i></span></button>

            </div>

          </form>
        </div>

        <!-- SIDE NAVIGATION GENERAL-->
        <div class="side-nav">
          <h2>General</h2>
          <nav>
            <ul>
              <li class ="active" onclick="show(0)">
                <span><i class="material-icons">person_outline</i></span>
                <h3>Profile</h3>
              </li>
              <li onclick="show(1)">
                <span><i class="material-icons">speed</i></span>
                <h3>Dashboard</h3>
              </li>
              <li onclick="show(2)">
                <span><i class="material-icons">timeline</i></span>
                <h3>Incident Log</h3>
              </li>
            </ul>
          </nav>
        </div>
      </aside>

    <!-- DASHBOARD TAB -->
    <div class="main">
      <!-- PROFILE TAB -->
      <section class="tabs">
        <h1>Profile</h1>
        <div id="user_profile_section">
          <form>
              <img id="detail_user_picture" width="200" alt="">
              <div class="edit">First Name:
                <input type="text" name="name" id="detail_user_firstN" placeholder="Name" required />
              </div>
              <div class="edit">Last Name:
               <input type="text" name="name" id="detail_user_lastN" placeholder="Name" required />
              </div>
              <div class="edit">Email:
                <input type="text" name="name" id="detail_user_email" placeholder="Name" required />
              </div>
             <div class="edit">Password:
                <input type="text" name="name" id="detail_user_password" placeholder="Name" required />
              </div>
              <div class="edit">Age:
                <input type="text" name="name" id="detail_user_age" placeholder="Name" required />
              </div>
              <div class="edit">Gender:
                <input type="text" name="name" id="detail_user_gender" placeholder="Name" required />
              </div>
             <div class="edit">Phone:
                <input type="text" name="name" id="detail_user_cellphone" placeholder="Name" required />
             </div>
             <span id="editUserStatus" class="status"></span>
              <div id="btn-container">
                <button type="button" id="edit-button">Edit</button>
                <button type="button" id="end-editing">Save</button>
              </div> 
          </form>
        </div>
        <div id="img-container">
          <form id="upload-images-form">
            <input id="image-upload" type="file" value="Upload Image" accept="image/png, image/gif, image/jpeg"
              multiple="multiple" />
            <input id="submitProfilePhoto" type="submit" value="Save profile image" />
          </form>
        </div>
      </section>

        <!-- DASHBOARD TAB -->
      <section id="dashboard" class="profile tabs">
        <h1>Incident Live Feed</h1>
        <div id="incidents" class="userpost">

        </div>
      </section>

      <!-- INCIDENT LOG TAB -->
      <section class="tabs">
        <h1>Incident Log</h1>
        <div id="incidentLog" class="incidentLog">

        </div>
      </section>
    </div>

    <!-- MODALS -->
    <div id="displayIncidentModal" class="modal">
      <div class="display-incident-modal-content">
        <div id="displayIncidentInformation">
          <p id="displayIncidentTitle"></p>
          <p id="displayIncidentPriority"></p>
          <p id="displayIncidentType"></p>
          <p id="displayIncidentStatus"></p>
          <p id="displayIncidentCallerID"></p>
          <p id="displayIncidentDescription"></p>
          <div id="displayIncidentMap" class="map"></div>
          <img id="displayIncidentImage" src="" width="300" alt="">
          <p id="displayIncidentTimestamp"></p>
          <p id="displayIncidentResolutionComment"></p>
        </div>
        <div id="displayIncidentModalButtons">
          <form>
            <span id="displayIncidentResolveStatus" class="modalStatus"></span>
            <input type="button" class="joinButton" id="joinIncidentModalButton" value="Respond">
            <input type="text" id="displayIncidentResolutionCommentInput" placeholder="Resolution Comment">
            <input type="button" class="cancelButton" id="displayIncidentCancelButton" value="Back" />
            <input type="button" class="submitButton" id="displayIncidentResolveButton" value="Resolve" />
          </form>
        </div>
      </div>
    </div>

    <div id="joinIncidentModal" class="modal">
      <div class="join-incident-modal-content">
        <div id="joinIncidentContent">
          <form>
            <h2>Respond to Incident?</h2>
            <span id="joinIncidentStatus" class="modalStatus"></span>
            <input type="button" class="cancelButton" id="joinIncidentCancelButton" value="Cancel" />
            <input type="button" class="submitButton" id="joinIncidentSubmitButton" value="Respond" />
          </form>
        </div>
      </div>
    </div>



  </div>
  <!-- SCRIPT FOLDER-->
  <script src="/js/map.js"></script>
  <script src="/js/responder_profile.js"></script>
  <script src="/js/responder_profile_edit.js"></script>
  <script src="/js/responder_profile_upload_photo.js"></script>
  <script src="/js/responder_profile_display_incident.js"></script>
  <script src="/js/responder_profile_join_incident.js"></script>
  <script src="/js/responder_profile_updater.js"></script>

  <!-- Google maps -->
  <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDhdF0gCXSvOcoKp4tIfwQmDytBQo8SWf8"></script>

  <!-- JQuery-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

  <!--DISPLAY NAVIGATION ON MOBILE-->
  <script>
    const tbtn = document.querySelectorAll(".side-nav ul li");
    const tab = document.querySelectorAll(".tabs");

    function show(panelIndex) {
      tab.forEach(function (node) {
        node.style.display = "none";
      })
      tab[panelIndex].style.display = "block";
    }

    show(0)
  </script>

  <!--DISPLAY NAVIGATION ON MOBILE-->
  <script>
    $(".side-nav ul li").click(function () {
      $(this).addClass("active").siblings().removeClass("active");
    })
  </script>

  <!--DISPLAY NAVIGATION ON MOBILE-->
  <script>
    const hMenu = document.querySelector(".hamburger-menu");

    const navM = document.querySelector(".nav-mobile");

    hMenu.addEventListener("click", (nav) => {

      navM.classList.toggle("show");
    })
  </script>

  <!--DISPLAY NAVIGATION ON MOBILE-->
  <script>
    const Vbar = document.querySelector(".vert-bar");

    const aside = document.querySelector(".sidebar");

    const close = document.querySelector(".close");

    Vbar.addEventListener("click", () => {
      aside.classList.add("show");
    })

    close.addEventListener("click", () => {
      aside.classList.remove("show");
    })
  </script>

  <!--Easter Egg, change font-->
  <script>

    let counter = 0; 

    const logo = document.getElementById("logo"); 
    const selectbody = document.getElementsByTagName("body")[0]; 


    logo.addEventListener('click', toggleFont); 


    function toggleFont(){
      counter +=1; 

      if(counter == 5) {
          selectbody.style.fontFamily = "monospace"; 
      }

    }

  </script>

</body>

</html>