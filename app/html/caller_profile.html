<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Page Title-->
  <title>Caller Profile Page</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Set favicon -->
  <link href="/imgs/saveme.ico" rel="shortcut icon" type="image/x-icon">

  <!-- Our StyleSheet-->
  <link rel="stylesheet" href="/css/caller_profile.css">

  <!-- Icon libraries from https://fonts.google.com/icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <link href="https://netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.css" rel="stylesheet">

</head>

<body>
  <!-- Templates -->
  <template id="IncidentTemplate">
    <div class="posts">
      <div class="incident">
        <span id="deleteIncidentButton" class="incidentClose">&times;</span>
        <span id="incidentTitle">

        </span>
        <span id="incidentPriority">

        </span>
        <span id="incidentType">

        </span>
        <span id="incidentStatus">

        </span>
        <span id="incidentTimestamp">

        </span>
      </div>
    </div>
  </template>

  <!-- Main Container-->
  <div class="container">
    <header>
      <!-- LOGO-->
      <div id="logo">
        <a href="/html/responder_profile.html">
          <img src="/imgs/saveme.jpg" width="40" alt="logo" />
        </a>
        <h2>SaveMe</h2>
      </div>


      <!--HAMBURGER MENU FOR MOBILE-->

      <div class="hamburger-menu">
        <span><i class="material-icons">list</i></span>
      </div>

      <!-- TOP NAVIGATION -->
      <div class="nav">
        <ul>

          <li onclick="show(1)">
            <h3>Home</h3>
          </li>

          <li>
            <a href="/html/about_page.html">About</a>
          </li>

          <li>
            <a href="/html/contact_page.html">Contact</a>
          </li>

          <li>
            <form action="/logout" method="get">
              <input id="logout" type="submit" value="Logout" />
            </form>
          </li>

        </ul>

      </div>

    </header>


   <!-- BOTTOM NAVIGATION BAR MOBILE-->
   <div class="nav-mobile">
    <ul>

      <li class ="active" onclick=show(0)>
        <span> <i class="material-icons">home</i></span>
        <h3>Home</h3>
      </li>

      <li>
        <span> <i class="material-icons">info</i></span>
        <a href="/html/about_nav.html">About</a>
      </li>

      <li>
        <span> <i class="material-icons">call</i></span>
        <a href="/html/contact_nav.html">Contact</a>
      </li>
      <li>
        <span> <i class="material-icons">logout</i></span>
        <form action="/logout" method="get">
          <input id="logout-btm-nav" type="submit" value="Logout" />
        </form>
      </li>

    </ul>
  </div>

    <!-- VERTICAL ICON NAVIGATION-->
    <div class="vert-bar">
      <span> <i class="material-icons">more_vert</i></span>
    </div>

    <!-- SIDEBAR NAVIGATION -->
    <aside class="sidebar">
      <!-- SIDEBAR CLOSE WHEN ON MOBILE-->
      <h2>SaveMe<span class="close"><i class="material-icons">close</i></span></h2>

      <div class="user-side">

        <div class="user-pic">

          <img id="userPicture" width="100" src="/imgs/saveme.jpg" alt="">

        </div>
        <!-- SIDE NAVIGATION USER INFORMATION-->
        <div class="user-info">

          <span id="sessionName" class="name">John Doe</span>

          <span id="sessionEmail" class="email">JohnDoe@gmail.com</span>


        </div>

      </div>

      <!-- SIDE NAVIGATION GENERAL-->
      <div class="side-nav">
        <h2>General</h2>
        <nav>
          <ul>
            <li class="active" onclick="show(0)">
              <span><i class="material-icons">person_outline</i></span>
              <h3>Profile</h3>
            </li>
            <li onclick="show(1)">
              <span><i class="material-icons">speed</i></span>
              <h3>Dashboard</h3>
            </li>
            <li onclick="show(2)">
              <span><i class="material-icons">timeline</i></span>
              <h3>Incident Log</h3>
            </li>
          </ul>
        </nav>
      </div>
    </aside>

    <!-- DASHBOARD TAB -->
    <div class="main">

      <!-- PROFILE TAB-->
      <section class="tabs">
        <h1>Profile</h1>
        <div id="user_profile_section">
          <form>
            <img id="detail_user_picture" width="200" alt="">
            <div class="edit">First Name:
              <input type="text" name="name" class="editable" id="detail_user_firstN" readonly placeholder="Name" required />
            </div>
            <div class="edit">Last Name:
              <input type="text" name="name" class="editable" id="detail_user_lastN" readonly placeholder="Name" required />
            </div>
            <div class="edit">Email:
              <input type="text" name="name" class="editable" id="detail_user_email" readonly placeholder="Name" required />
            </div>
            <div class="edit">Password:
              <input type="text" name="name" class="editable" id="detail_user_password" readonly placeholder="Name" required />
            </div>
            <div class="edit">Age:
              <input type="text" name="name" class="editable" id="detail_user_age" readonly placeholder="Name" required />
            </div>
            <div class="edit">Gender:
              <input type="text" name="name" class="editable" id="detail_user_gender" readonly placeholder="Name" required />
            </div>
            <div class="edit">Phone:
              <input type="text" name="name" class="editable" id="detail_user_cellphone" readonly placeholder="Name" required />
            </div>
            <span id="editUserStatus" class="status"></span>
            <div id="btn-container">
              <button type="button" id="edit-button">Edit</button>
              <button type="button" id="end-editing">Save</button>
            </div>
          </form>
        </div>
        
        <div id="img-container">
          
          <form id="upload-images-form">
            <input id="image-upload" type="file" value="Upload Image" accept="image/png, image/gif, image/jpeg" />
            <input id="submitProfilePhoto" type="submit" value="Save profile image" />
          </form>

        </div>
      </section>

      <section class="profile tabs">
        <h1>Dashboard</h1>

        <div id="profiles" class="userpost">
          <div class="posts">
            <div class="profile" id="reportIncident">
              <img class="profilePicture" src="/imgs/report.png" width="40" alt="logo">
              <p class="ticketName">Report incident</p>
            </div>
          </div>

          <div class="posts">
            <div class="profile" id="callForHelp">
              <img class="profilePicture" src="/imgs/call.png" width="40" alt="logo">
              <p class="ticketName">Call for help</p>
            </div>
          </div>

        </div>
      </section>

      <!-- INCIDENT LOG TAB-->
      <section class="tabs">
        <h1>Incident Log</h1>
        <div id="incidents" class="incidentLog">

        </div>
      </section>
    </div>


  </div>
  <!-- MODALS -->

  <!-- REPORT INCIDENT MODAL -->
  <div id="reportIncidentModal" class="modal">
    <div class="report-incident-modal-content">
      <div id="modalContents">
        <h2 id="reportTitle">Report an Incident</h2>
        <form>
          <hr>
          <div class="input">
            <label>Title: </label>
            <input type="text" id="reportIncidentTitle" placeholder="Title" />
          </div>
          <div class="input">
            <label>Incident Priority</label>
            <select id="reportIncidentPriority">
              <option value="NONE">Select</option>
              <option value="URGENT">Urgent</option>
              <option value="HIGH">High</option>
              <option value="MEDIUM">Medium</option>
              <option value="LOW">Low</option>
            </select>
          </div>

          <div class="input">
            <label>Incident Type</label>
            <select id="reportIncidentType">
              <option value="NONE">Select</option>
              <option value="HARASSMENT">Harassment</option>
              <option value="SUSACTIVITY">Suspicious Activity</option>
              <option value="VIOLENCE">Violent Confrontation</option>
            </select>
          </div>

          <div class="input">
            <label>Description: </label>
            <p><textarea cols="40" rows="5" id="reportIncidentDescription" placeholder="Description."></textarea></p>

            <!-- <input type="text" id="reportIncidentDescription" placeholder="Description" /> -->
          </div>

          <div id="incident_picture">

            
              <label>Upload Pictures</label>
              
              <form>
                <input id="reportIncidentImageUpload" type="file" value="Upload Image"
                  accept="image/png, image/gif, image/jpeg" multiple="multiple" />
              </form>



          </div>

          <div id="reportIncidentMap" class="map"></div>
          <div id="user_location">
            <p>Your location: </p>
            <input name="reportIncidentLat" type="text" id="reportIncidentLat" placeholder="Latitude">
            <input name="reportIncidentLon" type="text" id="reportIncidentLon" placeholder="Longitude">
          </div>
          <span id="reportIncidentStatus"></span>
          <div>
            <input type="button" class="cancelButton" id="reportIncidentCancelButton" value="Cancel" />
            <input type="button" class="submitButton" id="reportIncidentSubmitButton" value="Report" />
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- EDIT INCIDENT MODAL -->
  <div id="editIncidentModal" class="modal">
    <div class="edit-incident-modal-content">
      <div id="modalContents">
        <h2>Edit Incident</h2>
        <form id="edit-incident-info">
          <hr>
          <div class ="editIncidentContent">
          <label>Title:</label>
          <input type="text" id="editIncidentTitle" placeholder="Title" />
          </div>

          <div class ="editIncidentContent">
            <label>Incident Priority:</label>
            <select id="editIncidentPriority">
              <option value="URGENT">Urgent</option>
              <option value="HIGH">High</option>
              <option value="MEDIUM">Medium</option>
              <option value="LOW">Low</option>
            </select>
          </div>

          <div class ="editIncidentContent">
            <label id="incitype">Incident Type:</label>
            <select id="editIncidentType">
              <option value="HARASSMENT">Harassment</option>
              <option value="SUSACTIVITY">Suspicious Activity</option>
              <option value="VIOLENCE">Voilent Confrontation</option>
            </select>
          </div>

          <div>
            <label>Description</label>
            <p><textarea cols="40" rows="5" id="editIncidentDescription" placeholder="Description."></textarea></p>
          </div>
          
          <div>
            <p>Upload Pictures</p>
            <form>
              <input id="editIncidentImageUpload" type="file" value="Upload Image" accept="image/png, image/gif, image/jpeg"/>
            </form>
          </div>

          <img id="editIncidentImage" src="" width="300" alt="Incident Picture">

          <div id="editIncidentMap" class="map"></div>
          <p>Your location: </p>
          <input name="editIncidentLat" type="text" id="editIncidentLat" placeholder="Latitude" />
          <input name="editIncidentLon" type="text" id="editIncidentLon" placeholder="Longitude" />

          <span id="editIncidentStatus"></span>
          <div>
            <input type="button" class="cancelButton" id="editIncidentCancelButton" value="Cancel" />
            <input type="button" class="submitButton" id="editIncidentSubmitButton" value="Save" />
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- CALL FOR HELP MODAL -->
  <div id="callForHelpModal" class="modal">
    <div class="call-help-modal-content">
      <div id="modalContents">
        <h2>Call for Help</h2>
        <br /><br />
        <div id="reportContext"> </div>
        <br /><br />
        <form>
          <h2> Number</h2>
          <input type="text" id="callForHelpNumberInput" placeholder="Contact Number" />
          <h2>Message</h2>
          <p><textarea cols="40" rows="5" id="textContents" placeholder="Type your message in here."></textarea></p>
          <br />
          <h2>Preview</h2>
          <p><textarea cols="40" rows="5" id="previewContents" placeholder="Push the preview button."
              readonly></textarea></p>
          <br />
        </form>
        <div id="callForHelpStatus"></div>
        <form>
          <input type="button" class="cancelButton" id="callForHelpCancelButton" value="Cancel" />
          <input type="button" class="submitButton" id="callForHelpPreviewButton" value="Preview" />
          <input type="button" class="submitButton" id="callForHelpSubmitButton" value="Submit" />
        </form>
      </div>
    </div>
  </div>

  <!-- Delete incident modal -->
  <div id="deleteIncidentModal" class="modal">
    <div class="delete-incident-modal-content">
      <div id="deleteIncidentContent">
        <form>
          <h2>Delete incident?</h2>
          <span id="deleteIncidentStatus" class="modalStatus"></span>
          <input type="button" class="cancelButton" id="deleteIncidentCancelButton" value="Cancel" />
          <input type="button" class="submitButton" id="deleteIncidentSubmitButton" value="Delete" />
        </form>
      </div>
    </div>
  </div>

  <!-- Display incident modal -->
  <div id="displayIncidentModal" class="modal">
    <div class="display-incident-modal-content">
      <div id="displayIncidentContent">
        <p id="displayIncidentTitle"></p>
        <p id="displayIncidentPriority"></p>
        <p id="displayIncidentType"></p>
        <p id="displayIncidentStatus"></p>
        <p id="displayIncidentCallerID"></p>
        <p id="displayIncidentDescription"></p>
        <div id="displayIncidentMap" class="map"></div>
        <p>Your location: </p>
        <p id="displayIncidentLat"></p>
        <p id="displayIncidentLon"></p>
        <img id="displayIncidentImage" src="" width="300" alt="Incident Picture">
        <p id="displayIncidentTimestamp"></p>
        <p id="displayIncidentResolutionComment"></p>
      </div>
      <div id="displayIncidentModalButtons">
        <form>
          <input type="button" class="cancelButton" id="displayIncidentCancelButton" value="Back" />
        </form>
      </div>
    </div>

  </div>
  <!-- SCRIPT FOLDER-->
  <script src="/js/map.js"></script>
  <script src="/js/caller_profile.js"></script>
  <script src="/js/caller_profile_edit.js"></script>
  <script src="/js/caller_profile_upload_photo.js"></script>
  <script src="/js/caller_profile_report_incident.js"></script>
  <script src="/js/caller_profile_call_for_help.js"></script>
  <script src="/js/caller_profile_delete_incident.js"></script>
  <script src="/js/caller_profile_edit_incident.js"></script>
  <script src="/js/caller_profile_updater.js"></script>
  <script src="/js/caller_profile_display_incident.js"></script>

  <!-- JQuery-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

  <!-- Google maps -->
  <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDhdF0gCXSvOcoKp4tIfwQmDytBQo8SWf8"></script>

  <!--DISPLAY NAVIGATION ON MOBILE-->
  <script>
    const tbtn = document.querySelectorAll(".side-nav ul li");
    const tab = document.querySelectorAll(".tabs");

    function show(panelIndex) {
      tab.forEach(function (node) {
        node.style.display = "none";
      })
      tab[panelIndex].style.display = "block";
    }

    show(0)
  </script>

  <!--DISPLAY NAVIGATION ON MOBILE-->
  <script>
    $(".side-nav ul li").click(function () {
      $(this).addClass("active").siblings().removeClass("active");
    })
  </script>

  <!--DISPLAY NAVIGATION ON MOBILE-->
  <script>
    const hMenu = document.querySelector(".hamburger-menu");

    const navM = document.querySelector(".nav-mobile");

    hMenu.addEventListener("click", (nav) => {

      navM.classList.toggle("show");
    })
  </script>

  <!--DISPLAY NAVIGATION ON MOBILE-->
  <script>
    const Vbar = document.querySelector(".vert-bar");

    const aside = document.querySelector(".sidebar");

    const close = document.querySelector(".close");

    Vbar.addEventListener("click", () => {
      aside.classList.add("show");
    })

    close.addEventListener("click", () => {
      aside.classList.remove("show");
    })
  </script>

  <!--Easter Egg, change font-->
  <script>
    let counter = 0;

    const logo = document.getElementById("logo");
    const selectbody = document.getElementsByTagName("body")[0];


    logo.addEventListener('click', toggleFont);


    function toggleFont() {
      counter += 1;

      if (counter == 5) {
        selectbody.style.fontFamily = "monospace";
      }

    }
  </script>


</body>

</html>